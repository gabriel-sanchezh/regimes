---
jupytext:
  text_representation:
    extension: .md
    format_name: myst
    format_version: 0.13
    jupytext_version: 1.15.2
kernelspec:
  display_name: Python 3.8.5 ('base')
  language: python
  name: python3
---

# Regimes and Persistence

+++

In this section, I define what an inflation shift is and use a categorical Hidden Markov Model (HMM) to identify regimes of inflation and test their persistence in Latin America. I implement the method developed by {cite}`kinlaw2022`, who used it to identify those shifts for the United States.

`{code-cell} ipython3 print('hi')`

`{code-cell} ipython3 print('hi')`

`{code-cell} ipython5 Ffff` \## Inflation Shifts

+++

I identify an inflation shift from the acceleration of inflation; that is, the difference of the year-over-year rates, allowing to find abnormal moves up and down in inflation that could have occurred during the period. Let $\phi_{c,t}$ t denote the inflation shift of country c at time t:

$$
\phi_{c,t} = \frac{CPI_{c,t}}{CPI_{c,t-12}} - \left( \frac{CPI_{c,t}}{CPI_{c,t-36}}\right)^{\tfrac{1}{3}}
$$

`Equation (1)` gives a positive number if the one-year rate of inflation is greater than the three-year rate, and vice versa. Also, a larger number (positive or negative) indicates a larger difference in the mentioned rates. The corresponding period has been strongly atypical worldwide in terms of inflation, and Latin America is not an exception. During this period, most of the countries in the region have faced their uppermost rate in recent years. `Figure 1` provides evidence of this phenomenon using monthly data from the Latin American Reserve Fund's Economic Information System (SIE), and confirms not only important differences with the preceding years' rates but mostly positive changes; that is, generally, countries have experimented higher inflation rates in comparison to previous years.

+++

## Hidden Markov Model

+++

Given the time series utilised to measure inflation, it is valuable to introduce two relevant ideas: stochastic process and time series. The first one refers to a temporal sequence of random variables, whereas the second to a singular realisation of a stochastic process[^1], i.e. we have access to just one of the possible outcomes of each of these random variables, as in `equation (2)`: $$
\begin{align}
    \{X_t\}_{t=-\infty}^\infty=\{...,x_{-1}, \overbrace{x_{0},x_{1},x_{2},...,x_{T}}^\text{observations, X},x_{T+1},x_{T+2},...\}
\end{align}
$$

[^1]: See {cite}`romero2020`

+++

code...

+++

Next, I use a Hidden Markov Model (HMM) to test the persistence of inflation shifts. A Hidden Markov Model is a tool for representing probability distributions over sequences of observations {cite}`ghahramani2001`, in which a sequence of observations $X$ is generated by a sequence of internal states $Z$ that follow a stochastic process. Transitions between states $Z$ are assumed to follow a Markov Model, where state $Z_t$ at time $t$ only depends on state $Z_{t-1}$ at time $t-1$.

+++

A Hidden Markov Model has two initial components. First, there are observations, that are the inflation shift time series for each country. `Table 1` documents the selected characterization. In second place, there are hidden states that are addressed as regimes and follow the same categories as the observations: deceleration, normal shift, high acceleration and very high acceleration.

+++

fig...

+++

| Inflation Shift     | Category               |
|---------------------|------------------------|
| $\phi_{c,t}<0$      | Deceleration           |
| $0\leq\phi_{c,t}<2$ | Normal shift           |
| $2\leq\phi_{c,t}<4$ | High acceleration      |
| $\phi_{c,t}\geq 4$  | Very high acceleration |

+++

The model requires three set parameters: first, a state transition model A that will assign a higher probability to regime persistence. This means that, for the initial model, it is more likely that after a certain regime in a specific month (let's say deceleration at time $t$), a country shows the same regime the next month (deceleration at time $t+1$). I set the probabilities this way according to the findings of Kinlaw et al. 2022 regarding the strong regime persistence for the United States.

+++

Next, we have an observation model B that is set to have stronger probabilities linked to same observation-regime relations. For example, if we have an observed value (let's say high inflation shift at time $t$), it would be very likely for the model to reflect the same category (high accelerated inflation regime at time $t+1$). Both $A$ and $B$ are available in the `appendix`. Finally, we have an initial state distribution $p$ that depends on the first observation for each country. Having specified the model $Î» = (A, B, p)$ I run it for each country by using the hmmlearn python package[^2]. In order to obtain the best score possible, this process repeats for a thousand iterations with help of a pseudo-random number generator's (PRNG) seed.

[^2]: Documentation available [here](https://hmmlearn.readthedocs.io/en/latest/#).

+++

As a result, the stationary transition model shows the probabilities of staying or switching to different regimes, as depicted in `Figure 2`. The `left panel 2a` maps the situation for Colombia. Similarly to the other countries, the regimes present strong persistence; that is, if Colombia happens to be in a regime (let's say, with normal inflation at time $t$), it is very likely that it stays in such regime the next period (having a normal inflation state at time $t+1$). Almost all analysed countries present strong persistence, as the elements in the diagonal of the transition matrix are substantially higher than the non-diagonal elements.

+++

fig...

+++

Nevertheless, the analysis for Argentina produces a different result. As shown in `Figure 2b`, only in the limit regimes it appears to exist a high persistence (deceleration and very high acceleration). Moreover, it would be more likely to have decelerated or high accelerated inflation after being in a normal context. Furthermore, if Argentina is in a high accelerated inflation state, the expectation of staying in the same state is similar than those of shifting to a normal or very high one.